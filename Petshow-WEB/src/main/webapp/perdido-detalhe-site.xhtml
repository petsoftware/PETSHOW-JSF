<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:pe="http://primefaces.org/ui/extensions"
	xmlns:p="http://primefaces.org/ui">

<ui:composition template="#{pageHelperBean.mainTemplateSite}">

	<ui:define name="header">

	</ui:define>
	<f:metadata>
		<f:viewParam name="id" value="#{detalhePerdidoBean.id}" />
	</f:metadata>
	<ui:define name="body">
		<script type="text/javascript">
			jQuery(function($) {

				$("input.txtTel").mask("99999999999");

			});
		</script>

		<section class="content-section-a">
			<div class="container">
				<div class="row box-titulo">
					<div class="col-md-4">
						
					</div>
					<div class="col-md-4">
						<h4>#{detalhePerdidoBean.perdido.nome}</h4>
					</div>
				</div>
				<div class="row">
						<div class="col-md-8">
							<div class="row">
								<div align="center">
									<p:galleria value="#{detalhePerdidoBean.perdido.fotos}" var="foto"
										panelWidth="500" panelHeight="313">
										<h:graphicImage url="data:image/jpg;base64,#{foto}"
											style="width:100%;height:100%" id="visualizacao" title="" />
									</p:galleria>
								</div>
							</div>
							<div class="row">
								<h:outputLabel id="txtDesc"
									value="#{detalhePerdidoBean.perdido.descAcontecimento}" />
							</div>
						</div>
						
						
					<div class="col-md-4 box-mensagem">
						<div class="row" style="padding-right: 4px !important;">
							<div class="div-detalhe">
								<div class="row">
									<i class="fa fa-user"></i>
									<h:outputLabel id="lblUserAnuncio" style="padding-left: 8px; font-variant: small-caps;"
										value="#{detalhePerdidoBean.perdido.usuario.nome}">
									</h:outputLabel>
								</div>
								<div class="row">
									<i class="fa fa-phone-square"></i> 
									<h:outputLabel id="lblTelFixo" style="padding-left: 8px; font-variant: small-caps;"
										value="#{detalhePerdidoBean.telResFormatado}">
									</h:outputLabel>
								</div>
								<div class="row">
									<i class="fa fa-phone-square"></i> 
									<h:outputLabel id="lblTelCelular" style="padding-left: 8px; font-variant: small-caps;"
										value="#{detalhePerdidoBean.telCelFormatado}">
									</h:outputLabel>
								</div>
	
								<div class="row">
									<i class="fa fa-map-marker"></i> 
									<h:outputLabel id="lblCidade" style="padding-left: 8px; font-variant: small-caps;"
										value="#{detalhePerdidoBean.cidade}" /> - 
									<h:outputLabel id="lblEstado" style="font-variant: small-caps;"
										value="#{detalhePerdidoBean.estado}" />	
								</div>
								<div class="row">
									<h:outputLabel id="lblBairro"
										value="#{detalhePerdidoBean.bairro}" />
								</div>
							</div>
						</div>
							<p:messages id="msgEnviar" />
							<div style="padding-left: 15px">
								<div class="row">
									<h:outputLabel rendered="#{not detalhePerdidoBean.temUsuarioLogado}" value="Nome:" for="txtNome" />
								</div>
								<div class="row">
									<p:inputText id="txtNome" rendered="#{not detalhePerdidoBean.temUsuarioLogado}" required="true" maxlength="40"
										value="#{detalhePerdidoBean.nome}" style="width:90%;"/>
								</div>
							</div>
							<div style="padding-left: 15px">
								<div class="row">
									<p:outputLabel rendered="#{not detalhePerdidoBean.temUsuarioLogado}" value="E-mail:" for="txtEmail" />
								</div>
								<div class="row">
									<p:inputText rendered="#{not detalhePerdidoBean.temUsuarioLogado}" id="txtEmail" required="true" maxlength="70"
										value="#{detalhePerdidoBean.email}"
										requiredMessage="informe seu e-mail!" style="width:90%;"
										validatorMessage="E-mail não está em formato válido!">
										<f:validateRegex
											pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
									</p:inputText>
								</div>
							</div>
							<div style="padding-left: 15px">
								<div class="row">
									<p:outputLabel rendered="#{not detalhePerdidoBean.temUsuarioLogado}" value="Telefone:" for="txtTel" />
								</div>
								<div class="row">
									<p:inputMask rendered="#{not detalhePerdidoBean.temUsuarioLogado}" mask="(99)999999999" id="txtTel" maxlength="20" style="width:50%;"
										value="#{detalhePerdidoBean.telefone}" />
								</div>
							</div>
							<div style="padding-left: 15px">
								<div class="row">
									<h:outputLabel value="Mensagem:" for="txtMensagem" />
								</div>
								<div class="row">
									<p:inputTextarea id="txtMensagem" required="true" style="width:100%;" counterTemplate="{0} characters faltando." counter="display"
										maxlength="250" rows="6" value="#{detalhePerdidoBean.mensagem}" />
										<p:outputLabel id="display" />
								</div>
							</div>
							<div style="padding-left: 15px;padding-right: 15px;padding-bottom: 20px;">	
								<div class="row">
									<p:commandButton action="#{detalhePerdidoBean.enviar}" styleClass="btn btn-success btn-lg" icon="fa fa-fw fa-send"
										type="submit" value="Enviar Menssagem" update="msgEnviar" id="btNovo" style="padding-left: 4px !important;"/>
								</div>
							</div>

					</div>


				</div>
				<div class="row">
					<div class="row ">
						<h:outputLabel value="Anunciado em:" for="lblDataAnuncio" />
						<h:outputLabel id="lblDataAnuncio"
							value="#{detalhePerdidoBean.dataAnunciada}">
						</h:outputLabel>
					</div>
				</div>
			</div>
		</section>

	</ui:define>

</ui:composition>

</html>

